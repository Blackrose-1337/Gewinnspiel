import{ao as s,ap as u}from"./index.2f8d8692.js";const n=new u,g=s({id:"evaluation",state:()=>({bewertung:[],kriterien:[],img:[],auswertung:[]}),getters:{},actions:{clear(){this.kriterien.forEach(t=>{t.value=null})},async getKriterien(){this.kriterien.splice(0),(await n.get("evaluation/getKriterien")).forEach(e=>this.kriterien.push(e))},async postBewertung(){return this.bewertung.forEach(t=>{t.finish=1}),n.post("evaluation/createBewertung",this.bewertung)},async getall(t){this.clear();const e={projectId:t},r=await n.get("evaluation/Bewertung",e);r.length==0||(this.bewertung.splice(0),r.forEach(i=>{this.bewertung.push({id:i.id,projectId:i.projectId,kriterienId:i.kriterienId,bewertung:i.bewertung,finish:i.finish}),this.kriterien.forEach(a=>{a.id==i.kriterienId&&(a.value=i.bewertung)})}))},async getImages(t){const e={id:t};return this.img=[],(await n.get("evaluation/images",e)).pics.forEach(i=>{this.img.push(i)}),this.img},async getAnalysis(){const t=await n.get("evaluation/analysis",null);this.auswertung=t,this.auswertung.forEach(e=>{e.value=+e.value})},async update(t){this.bewertung.length===0?this.kriterien.forEach(e=>{this.bewertung.push({id:0,projectId:t,kriterienId:e.id,bewertung:e.value,finish:0})}):this.kriterien.forEach(e=>{this.bewertung.forEach(r=>{r.kriterienId==e.id&&(r.bewertung=e.value)})}),await n.post("evaluation/createBewertung",this.bewertung),this.getall(t)}}});export{g as u};
